## План автоматизации тестирования комплексного web-сервиса покупки тура "Марракэш".

## Перечень автоматизируемых сценариев:

#### Валидными данными при заполнении полей ввода следует считать:

1. Номер карты: цифровые символы, 16 шт.,в формате **** **** **** ****
1. Месяц: 01-12, но не ранее текущего месяца в случае, если указан текущий год
1. Год: последние две цифры порядкового номера года, не ранее текущего года
1. Владелец: буквенные символы латинского алфавита
1. CVC: цифровые символы, 3 шт.

#### Карты, представленные для тестирования (файл data.json):

* 4444 4444 4444 4441, status APPROVED
* 4444 4444 4444 4442, status DECLINED

##### Тестируемые Базы данных:

* MySql
* PostgreSQL

### Тестовые сценарии

#### Позитивные сценарии

1. Оплата по дебетовой карте со статусом APPROVED

   Номер карты 4444 4444 4444 4441, остальные поля заполнены валидными данными. Ожидаемый результат: появилось
   всплывающее окно "Операция одобрена Банком", в БД в payment_entity появилась запись со статусом APPROVED

1. Оплата по кредитной карте со статусом APPROVED

   Номер карты 4444 4444 4444 4441, остальные поля заполнены валидными данными. Ожидаемый результат: появилось
   всплывающее окно "Операция одобрена Банком", в БД в credit_request_entity появилась запись со статусом APPROVED

1. Оплата по дебетовой карте со статусом DECLINED

   Номер карты 4444 4444 4444 4442, остальные поля заполнены валидными данными. Ожидаемый результат: появилось
   всплывающее окно "Ошибка! Банк отказал в проведении операции", в БД в payment_entity появилась запись со статусом
   DECLINED

1. Оплата по кредитной карте со статусом DECLINED

   Номер карты 4444 4444 4444 4442, остальные поля заполнены валидными данными. Ожидаемый результат: появилось
   всплывающее окно "Ошибка! Банк отказал в проведении операции", в БД в credit_request_entity появилась запись со
   статусом DECLINED

#### Негативные сценарии

1. Оплата по несуществующей карте

   Номер карты 4444 4444 4444 4443, остальные поля заполнены валидными данными Ожидаемый результат: появилось
   всплывающее окно "Ошибка! Банк отказал в проведении операции", в БД в payment_entity новая запись не появилась

1. Кредит по данным несуществующей карты

   Номер карты 4444 4444 4444 4443, остальные поля заполнены валидными данными Ожидаемый результат: появилось
   всплывающее окно "Ошибка! Банк отказал в проведении операции", в БД в credit_request_entity новая запись не появилась

1. Оплата по карте, указан невалидный номер

   Номер карты 4444 4444 4444 444, остальные поля заполнены валидными данными  
   Ожидаемый результат: под полем номер карты появилось сообщение об ошибке "Неверный формат", в БД в payment_entity
   новая запись не появилась

1. Кредит по данным карты, указан невалидный номер

   Номер карты 4444 4444 4444 444, остальные поля заполнены валидными данными  
   Ожидаемый результат: под полем Номер карты появилось сообщение об ошибке "Неверный формат", в БД в
   credit_request_entity новая запись не появилась

1. Оплата по карте с истекшим сроком действия (месяц)

   Номер карты 4444 4444 4444 4441, указать предыдущий месяц, текущий год, остальные поля заполнены валидными данными  
   Ожидаемый результат: под полем Месяц появилось сообщение об ошибке "Неверно указан срок действия карты", в БД в
   payment_entity новая запись не появилась

1. Кредит по данным карты с истекшим сроком действия (месяц)

   Номер карты 4444 4444 4444 4441, указать предыдущий месяц, текущий год, остальные поля заполнены валидными данными  
   Ожидаемый результат: под полем Месяц появилось сообщение об ошибке "Неверно указан срок действия карты", в БД в
   credit_request_entity новая запись не появилась

1. Оплата по данным карты, указан невалидный месяц

   Номер карты 4444 4444 4444 4441, в поле Месяц указать 00, остальные поля заполнены валидными данными  
   Ожидаемый результат: под полем Месяц появилось сообщение об ошибке "Неверно указан срок действия карты", в БД в
   payment_entity новая запись не появилась

1. Кредит по данным карты, указан невалидный месяц

   Номер карты 4444 4444 4444 4441, в поле Месяц указать 00, остальные поля заполнены валидными данными  
   Ожидаемый результат: под полем Месяц появилось сообщение об ошибке "Неверно указан срок действия карты", в БД в
   credit_request_entity новая запись не появилась

1. Оплата по карте с истекшим сроком действия (год)

   Номер карты 4444 4444 4444 4441, указать предыдущий год, остальные поля заполнены валидными данными Ожидаемый
   результат: под полем Год появилось сообщение об ошибке "Истёк срок действия карты", в БД в payment_entity новая
   запись не появилась

1. Кредит по данным карты с истекшим сроком действия (год)

   Номер карты 4444 4444 4444 4441, указать предыдущий год, остальные поля заполнены валидными данными Ожидаемый
   результат: под полем Год появилось сообщение об ошибке "Истёк срок действия карты", в БД в credit_request_entity
   новая запись не появилась

1. Оплата по данным карты, указано некорректное значение в поле Владелец

   Номер карты 4444 4444 4444 4441, в поле Владелец внести некорректные данные, остальные поля заполнить валидными
   значениями Ожидаемый результат: под полем Владелец появилось сообщение об ошибке, в БД в payment_entity новая запись
   не появилась

1. Кредит по данным карты, указано некорректное значение в поле Владелец

   Номер карты 4444 4444 4444 4441, в поле Владелец внетсти некорректные данные, остальные поля заполнить валидными
   значениями  
   Ожидаемый результат: под полем Владелец появилось сообщение об ошибке, в БД в credit_request_entity новая запись не
   появилась

1. Оплата по данным карты, указано некорректное значение в поле CVC/CVV

   Номер карты 4444 4444 4444 4441, в поле CVC/CVV указать 0, остальные поля заполнить валидными значениями Ожидаемый
   результат: под полем CVC/CVV появилось сообщение об ошибке "Неверный формат", в БД в payment_entity новая запись не
   появилась

1. Кредит по данным карты, указано некорректное значение в поле CVC/CVV

   Номер карты 4444 4444 4444 4441, в поле CVC/CVV указать 0, остальные поля заполнить валидными значениями Ожидаемый
   результат: под полем CVC/CVV появилось сообщение об ошибке "Неверный формат", в БД в credit_request_entity новая
   запись не появилась

1. Пустая форма заявки "Оплата по карте"

   Ожидаемый результат: У полей ввода "Номер карты", "Месяц", "Год", "CVC/CVV" появляются сообщения об ошибке "Неверный
   формат", у поля "Владелец" сообщение об ошибке "Поле обязательно для заполнения". Заявка не отправляется.в БД в
   credit_request_entity/payment_entity новая запись не появилась

## Перечень используемых инструментов:

* Java 11 - язык написания авто-тестов;
* IntelliJ IDEA - платформа ориентирована на язык Java, обладает интуитивным интерфейсом, поддерживает все необходимые
  для тестирования инструменты;
* Gradle - система автоматизации сборки и управления зависимостями;
* JUnit 5 - платформа для написания авто-тестов и их запуска;
* Faker - генерация пользовательских данных (имени и телефона);
* Lombok- библиотека для сокращения количества шаблонного кода, для объявления локальной переменной вместо указания
  реального типа;
* Selenide - фреймворк для автоматизированного тестирования веб-приложений на основе Selenium WebDriver, более удобный и
  простой в использовании, чем Selenium;
* Allure - фреймворк, предназначенный для создания отчетов, более наглядных, чем у Gradle;
* DBeaver - бесплатный универсальный инструмент для работы с базами данных;
* Docker Compose - инструмент, позволяющий запускать мультиконтейнерные приложения, чтобы не устанавливать на компьютер
  необходимые для работы приложения Node.js и СУБД;
* Git и Github: система контроля версий для хранения автотестов;

## Перечень и описание возможных рисков при автоматизации:

* Возможна смена кода страницы либо css-селекторов, придется править код;
* Отсутствие test_id усложняет написание и поддержку тестов;
* Смена формы заполнения после какого-либо времени;
* Невозможность написания в форме некоторых букв (например, буквы ё);
* Долгое открытие страницы сайта, либо вкладки;
* Недоступность сайта или страницы;
* Неоправданная стоимость автоматизации;
* Искажение результатов тестов в связи с отсутствием доступа к реальной БД;

## Перечень необходимых специалистов для автоматизации:

* Специалист по автоматизированному тестированию;

## Интервальная оценка с учётом рисков (в часах):

Необходимое время на тестирование составляет 40 часов, с учетом рисков - 60 часов:

- подготовка окружения, инфраструктуры, развертывание БД - 8 часов;
- написание автотестов, тестирование и отладка автотестов - 24 часа;
- формирование и анализ отчетов - 8 часов;

## План сдачи работ:

* завершение автотестов: 02.04.2021
* предоставление отчетности: 09.04.2021